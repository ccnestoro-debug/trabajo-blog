<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Introducci√≥n a los Grafos</title>
  <link rel="stylesheet" href="../css/styles.css">
 </head>
<body>
  <div class="container">
    <a href="../index.html">‚Üê Volver</a>

    <div class="toolbar" role="toolbar" aria-label="Cinta de herramientas">
      <div class="toolbar-left">
        <button class="tool-button" onclick="location.href='post1-intro-grafos.html'"> <span class="tool-icon">üìù</span> Posts</button>
        <button class="tool-button" onclick="location.href='post2-representacion-grafos.html'"> <span class="tool-icon">üìä</span> Representaci√≥n</button>
        <button class="tool-button" onclick="location.href='post3-recorridos.html'"> <span class="tool-icon">‚öôÔ∏è</span> Algoritmos</button>
      </div>
      <div class="toolbar-right">
        <button class="tool-button ghost" onclick="navigator.clipboard?.writeText(location.href).then(()=>alert('URL copiada'))"> <span class="tool-icon">üîó</span> Compartir</button>
        <button class="tool-button positive" onclick="alert('Editar (placeholder)')"> <span class="tool-icon">‚úèÔ∏è</span> Editar</button>
      </div>
    </div>

    <h1>Post #1 ‚Äî Introducci√≥n a los Grafos</h1>
    <p>Un <strong>grafo</strong> es una estructura de datos que consiste en un conjunto de <em>v√©rtices</em> (o <em>nodos</em>) y un conjunto de <em>aristas</em> (o <em>ejes</em>) que conectan pares de v√©rtices.</p>

    <h2>Conceptos clave</h2>
    <ul>
      <li><strong>V√©rtice / Nodo:</strong> Unidad b√°sica que representa un objeto.</li>
      <li><strong>Arista / Eje:</strong> Conexi√≥n entre dos nodos. Puede ser dirigida o no dirigida.</li>
      <li><strong>Grafo dirigido:</strong> Las aristas tienen una direcci√≥n (u ‚Üí v).</li>
      <li><strong>Grafo no dirigido:</strong> Las aristas no tienen direcci√≥n (u ‚Äî v).</li>
      <li><strong>Grafo ponderado:</strong> Cada arista tiene un peso o costo asociado.</li>
    </ul>

    <h2>Ejemplo visual ‚Äî Grafo no dirigido (5 nodos)</h2>
    <p>Diagrama simple de un grafo no dirigido con 5 nodos etiquetados A‚ÄìE.</p>

    <svg viewBox="0 0 300 220" width="100%" height="240" xmlns="http://www.w3.org/2000/svg">
      <!-- aristas -->
      <line x1="60" y1="50" x2="160" y2="50" stroke="#333" stroke-width="2" />
      <line x1="60" y1="50" x2="100" y2="140" stroke="#333" stroke-width="2" />
      <line x1="160" y1="50" x2="220" y2="120" stroke="#333" stroke-width="2" />
      <line x1="100" y1="140" x2="220" y2="120" stroke="#333" stroke-width="2" />
      <line x1="160" y1="50" x2="100" y2="140" stroke="#333" stroke-width="2" />

      <!-- nodos -->
      <circle cx="60" cy="50" r="18" fill="#fff" stroke="#2b6cb0" stroke-width="3" />
      <text x="60" y="55" text-anchor="middle" font-size="12" fill="#2b6cb0">A</text>

      <circle cx="160" cy="50" r="18" fill="#fff" stroke="#2b6cb0" stroke-width="3" />
      <text x="160" y="55" text-anchor="middle" font-size="12" fill="#2b6cb0">B</text>

      <circle cx="100" cy="140" r="18" fill="#fff" stroke="#2b6cb0" stroke-width="3" />
      <text x="100" y="145" text-anchor="middle" font-size="12" fill="#2b6cb0">C</text>

      <circle cx="220" cy="120" r="18" fill="#fff" stroke="#2b6cb0" stroke-width="3" />
      <text x="220" y="125" text-anchor="middle" font-size="12" fill="#2b6cb0">D</text>

      <circle cx="40" cy="170" r="18" fill="#fff" stroke="#2b6cb0" stroke-width="3" />
      <text x="40" y="175" text-anchor="middle" font-size="12" fill="#2b6cb0">E</text>

      <!-- aristas desde E -->
      <line x1="40" y1="170" x2="100" y2="140" stroke="#333" stroke-width="2" />
    </svg>

    <!-- Visualizaci√≥n interactiva (misma que en Recorridos) -->
    <hr />
    <section id="interactive-intro">
      <h3>Visualizaci√≥n interactiva (BFS paso a paso)</h3>
      <p>Usa los controles para ejecutar BFS paso a paso sobre este diagrama.</p>

      <div id="graph-controls-intro" style="margin:12px 0;padding:12px;background:#fff;border-radius:8px">
        <label for="start-node-intro">Nodo inicial:</label>
        <select id="start-node-intro" style="margin-left:8px;padding:6px 8px"></select>
        <button id="run-bfs-intro" class="tool-button" style="margin-left:12px">BFS (final)</button>
        <button id="step-bfs-intro" class="tool-button" style="margin-left:6px">Step</button>
        <button id="play-bfs-intro" class="tool-button" style="margin-left:6px">Play</button>
        <button id="reset-bfs-intro" class="tool-button ghost" style="margin-left:6px">Reset</button>
      </div>

      <div style="display:flex;gap:18px;align-items:flex-start;margin-top:12px">
        <svg id="graph-svg-intro" viewBox="0 0 300 220" width="420" height="320" xmlns="http://www.w3.org/2000/svg" style="background:#fff;border-radius:8px;padding:8px;box-shadow:0 6px 18px rgba(2,6,23,0.06)">
          <!-- aristas (ids con formato edge-U-V) -->
          <line id="edge-A-B-intro" x1="60" y1="50" x2="160" y2="50" stroke="#bbb" stroke-width="3" />
          <line id="edge-A-C-intro" x1="60" y1="50" x2="100" y2="140" stroke="#bbb" stroke-width="3" />
          <line id="edge-B-D-intro" x1="160" y1="50" x2="220" y2="120" stroke="#bbb" stroke-width="3" />
          <line id="edge-B-C-intro" x1="160" y1="50" x2="100" y2="140" stroke="#bbb" stroke-width="3" />
          <line id="edge-C-D-intro" x1="100" y1="140" x2="220" y2="120" stroke="#bbb" stroke-width="3" />
          <line id="edge-C-E-intro" x1="100" y1="140" x2="40" y2="170" stroke="#bbb" stroke-width="3" />

          <!-- nodos -->
          <g id="nodes-intro">
            <circle id="node-A-intro" cx="60" cy="50" r="20" fill="#fff" stroke="#2b6cb0" stroke-width="3" />
            <text x="60" y="55" text-anchor="middle" font-size="12" fill="#2b6cb0">A</text>

            <circle id="node-B-intro" cx="160" cy="50" r="20" fill="#fff" stroke="#2b6cb0" stroke-width="3" />
            <text x="160" y="55" text-anchor="middle" font-size="12" fill="#2b6cb0">B</text>

            <circle id="node-C-intro" cx="100" cy="140" r="20" fill="#fff" stroke="#2b6cb0" stroke-width="3" />
            <text x="100" y="145" text-anchor="middle" font-size="12" fill="#2b6cb0">C</text>

            <circle id="node-D-intro" cx="220" cy="120" r="20" fill="#fff" stroke="#2b6cb0" stroke-width="3" />
            <text x="220" y="125" text-anchor="middle" font-size="12" fill="#2b6cb0">D</text>

            <circle id="node-E-intro" cx="40" cy="170" r="20" fill="#fff" stroke="#2b6cb0" stroke-width="3" />
            <text x="40" y="175" text-anchor="middle" font-size="12" fill="#2b6cb0">E</text>
          </g>
        </svg>

        <div style="flex:1">
          <h4>Cola (queue)</h4>
          <pre id="queue-state-intro" style="min-height:48px;background:#fff;padding:8px;border-radius:6px"></pre>

          <h4>Registro de acciones</h4>
          <pre id="action-log-intro" style="min-height:120px;background:#071029;color:#e6f0ff;padding:8px;border-radius:6px;overflow:auto"></pre>
        </div>
      </div>
    </section>

    <script src="../js/graph.js"></script>
    <script>
      // peque√±o conector para reutilizar funciones de main.js adaptadas a este archivo
      (function(){
        // mapear ids de esta p√°gina a las funciones de animaci√≥n ya presentes en main.js
        // main.js crea la funcionalidad principal s√≥lo cuando detecta elementos con ids concretos.
        // Aqu√≠, clonaremos un peque√±o adaptador que usa la misma Graph.sampleGraph() pero
        // opera sobre ids con sufijo '-intro'.

        // Implementaci√≥n ligera similar a la de main.js pero usando ids con sufijo "-intro".
        function qs(id){return document.getElementById(id)}
        function highlightNode(id, color){ const c = qs('node-'+id+'-intro'); if(c) c.setAttribute('fill', color); }
        function highlightEdge(u,v,color){ const e = qs('edge-'+u+'-'+v+'-intro') || qs('edge-'+v+'-'+u+'-intro'); if(e) e.setAttribute('stroke', color); }

        const g = Graph.sampleGraph();
        const startSel = qs('start-node-intro');
        if(!startSel) return;
        startSel.innerHTML = g.nodes().map(n=>`<option value="${n}">${n}</option>`).join('');

        const queueEl = qs('queue-state-intro');
        const logEl = qs('action-log-intro');
        const btnStep = qs('step-bfs-intro');
        const btnPlay = qs('play-bfs-intro');
        const btnReset = qs('reset-bfs-intro');

        function reset(){
          for(const n of g.nodes()){ const el = qs('node-'+n+'-intro'); if(el) el.setAttribute('fill','#fff'); }
          ['A-B','A-C','B-C','B-D','C-D','C-E'].forEach(id=>{ const e = qs('edge-'+id+'-intro'); if(e) e.setAttribute('stroke','#bbb'); });
          queueEl.textContent=''; logEl.textContent='';
        }

        function generate(start){
          const steps=[]; const q=[]; const visited=new Set();
          q.push(start); steps.push({type:'enqueue',node:start,queue:[...q]}); visited.add(start); steps.push({type:'visit',node:start,queue:[...q]});
          while(q.length){ const v=q.shift(); steps.push({type:'dequeue',node:v,queue:[...q]}); for(const w of g.neighbors(v)){ steps.push({type:'consider',from:v,to:w,queue:[...q]}); if(!visited.has(w)){ visited.add(w); q.push(w); steps.push({type:'discover',from:v,to:w,queue:[...q]}); } } }
          steps.push({type:'end'}); return steps;
        }

        let steps=[]; let idx=0; let timer=null;
        function renderQueue(q){ queueEl.textContent = q.join(' <- '); }
        function apply(s){ logEl.textContent += JSON.stringify(s)+'\n'; if(s.type==='enqueue') highlightNode(s.node,'#fff7d6'); else if(s.type==='visit') highlightNode(s.node,'#ffd699'); else if(s.type==='dequeue') highlightNode(s.node,'#ffbf80'); else if(s.type==='consider') highlightEdge(s.from,s.to,'#f0b3ff'); else if(s.type==='discover'){ highlightEdge(s.from,s.to,'#ff6a00'); highlightNode(s.to,'#fff0f0'); } if(s.queue) renderQueue(s.queue); }
        function stepOnce(){ if(idx>=steps.length) return false; apply(steps[idx++]); return idx<steps.length; }
        function play(intv=700){ if(timer) return; timer=setInterval(()=>{ const cont=stepOnce(); if(!cont){ clearInterval(timer); timer=null } }, intv); }

        btnReset.addEventListener('click', ()=>{ if(timer){ clearInterval(timer); timer=null } steps=[]; idx=0; reset(); });
        btnStep.addEventListener('click', ()=>{ if(steps.length===0){ const s=startSel.value||g.nodes()[0]; steps=generate(s); idx=0; } stepOnce(); });
        btnPlay.addEventListener('click', ()=>{ if(steps.length===0){ const s=startSel.value||g.nodes()[0]; steps=generate(s); idx=0; } play(700); });

        // inicial reset
        reset();
      })();
    </script>
    <p>En este grafo no dirigido los nodos A‚ÄìE est√°n conectados por aristas sin direcci√≥n. Es una representaci√≥n f√°cil de entender para estudiar conexiones.</p>
  </div>
</body>
</html>
